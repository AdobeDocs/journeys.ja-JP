---
title: 高度な式エディターについて
description: 高度な式の作成方法を説明します。
page-status-flag: never-activated
uuid: 269d590c-5a6d-40b9-a879-02f5033863fc
contentOwner: sauviat
audience: rns
content-type: reference
topic-tags: journeys
discoiquuid: 5df34f55-135a-4ea8-afc2-f9427ce5ae7b
internal: n
snippet: y
translation-type: tm+mt
source-git-commit: 017d502e21605b3e0b8c61e5fea0b4f6a65d4470

---


# 高度な式エディターについて {#concept_uyj_trt_52b}

アドバンス式エディターを使用すると、例えばデータソース条件を定義する場合など、インターフェイスの様々な画面でアドバンス式を作成できます。
また、特定のデータ操作を必要とするアクションパラメーターを定義する必要が生じるたびに、この機能を使用することもできます。 イベントから取得したデータや、データソースから取得した追加情報を利用できます。 旅の中で、イベントフィールドのリストは状況に応じて表示され、旅に追加されたイベントに応じて変化します。

高度な式エディターには、値を操作したり、ニーズに合った式を定義したりするための一連の組み込み関数と演算子が用意されています。 また、アドバンス式エディターでは、外部データソースパラメーターの値を定義し、エクスペリエンスイベントなどのマップフィールドやコレクションを操作することもできます。

![](../assets/journey65.png)

_高度な式エディターインターフェイス_

高度な式エディターを使用して、次の操作を行うことができます。

* データソース [とイベント情報に関する](../building-journeys/condition-activity.md#about_condition) 、アドバンス条件の作成
* 日付条件でのカ [スタムタイムゾーン](../building-journeys/timezone-management.md) 、固定日付待機アクティビティ、カスタム待機アクティビティの定義
* カスタム待機アクティビティ [を定義する](../building-journeys/wait-activity.md#custom)
* アクションパラメーターのマッピングの定義

可能な場合は、/ボタンを使用して2つのモードを切り替える **[!UICONTROL Advanced mode]**ことがで**[!UICONTROL Simple mode]** きます。 シンプルモードについては、ここで説 [明します](../building-journeys/condition-activity.md#about_condition)。

>[!NOTE]
>
>条件は、単純式エディターまたは高度な式エディターで定義できます。 常にboolean型を返します。
>
>アクションパラメーターは、フィールドを選択するか、高度な式エディターを使用して定義できます。 式に従って特定のデータ型を返します。

## アドバンスエクスプレッションエディターへのアクセス {#section_fdz_4nj_cjb}

アドバンスエクスプレッションエディターには、次の様々な方法でアクセスできます。

* データソース条件を作成する場合は、をクリックしてアドバンスエディターにアクセスできま **[!UICONTROL Advanced mode]**す。

   ![](../assets/journeyuc2_33.png)

* カスタムのタイムゾーンまたはカスタムのタイマーを作成すると、アドバンスエディターが直接表示されます。
* アクションパラメーターをマップする場合は、をクリックしま **[!UICONTROL Advanced mode]**す。

## インターフェイスの検出{#section_otq_tnj_cjb}

この画面では、手動で式を記述できます。

![](../assets/journey70.png)

画面の左側に、使用可能なフィールドと機能が表示されます。

* **[!UICONTROL Events]**:受信イベントから受け取ったフィールドの1つを選択します。 イベントフィールドのリストはコンテキストに応じて表示され、遍歴に追加されたイベントによって異なります。
* **[!UICONTROL Data Sources]**:データソースのフィールドグループから使用できるフィールドのリストから選択します。
* **[!UICONTROL Functions]**:複雑なフィルタリングを実行できる組み込み関数のリストから選択します。 関数はカテゴリ別に整理されます。

![](../assets/journey65.png)

自動補完メカニズムは、コンテキストの提案を表示します。

![](../assets/journey68.png)

構文検証メカニズムは、コードの整合性をチェックします。 エラーはエディターの上部に表示されます。

![](../assets/journey69.png)

**アドバンスエクスプレッションエディターで条件を作成する場合、パラメーターが必要**

パラメータの呼び出しが必要な外部データソースからフィールドを選択する場合（を参照） [](../datasource/external-data-sources.md)。 例えば、天気関連のデータソースでは、頻繁に使用されるパラメータは「市区町村」になります。 そのため、この市区町村パラメーターを取得する場所を選択する必要があります。 また、関数をパラメーターに適用して、形式の変更や連結を行うこともできます。

![](../assets/journeyuc2_19.png)

より複雑な使用例では、データソースのパラメーターをメイン式に含める場合、「params」キーワードを使用してその値を定義できます。 [このページ](../expression/field-references.md)を参照してください。
