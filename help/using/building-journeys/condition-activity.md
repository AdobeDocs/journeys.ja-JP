---
product: adobe campaign
title: 条件アクティビティ
description: 条件アクティビティの詳細
feature: ジャーニー
role: Business Practitioner
level: Intermediate
exl-id: 7b44edbe-9d05-4d67-8a64-2a0a553fcb92
source-git-commit: 78c758c75825c0f85788190c4526fa5c743c6673
workflow-type: tm+mt
source-wordcount: '803'
ht-degree: 11%

---

# 条件アクティビティ{#section_e2n_pft_dgb}

次の4種類の条件を使用できます。

* [データソースの条件](#data_source_condition)
* [時間条件](#time_condition)
* [分割された割合](#percentage_split)
* [日付条件](#date_condition)

![](../assets/journey49.png)

## 「条件」アクティビティについて {#about_condition}

1つのジャーニーで複数の条件を使用する場合、それぞれにラベルを定義して、ラベルをより簡単に識別できます。

複数の条件を定義する場合は、「**[!UICONTROL パスを追加]**」をクリックします。 各条件に対して、新しいパスがアクティビティの後にキャンバスに追加されます。

![](../assets/journey47.png)

ジャーニーの設計は、機能に影響を与えます。 条件の後に複数のパスが定義された場合、最初の有効なパスのみが実行されます。 つまり、パスを上下に配置することで、パスの優先順位付けを変更できます。

例えば、最初のパスの条件「The person is a VIP」と2番目のパスの条件「The person is a male」を見てみましょう。 両方の条件を満たす人(VIPの男性)がこの手順に合格すると、最初のパスは2番目のパスにも該当する場合でも、最初のパスが「上」なので、最初のパスが選択されます。 この優先度を変更するには、アクティビティを別の垂直方向に移動します。

![](../assets/journey48.png)

定義された条件に適合しないオーディエンスのパスを別に作成するには、「**[!UICONTROL 上記以外の他のケースのパスを表示]**」をオンにします。 このオプションは、分割条件では使用できません。 [割合の分割](#percentage_split)を参照してください。

シンプルモードを使用すると、フィールドの組み合わせに基づいてシンプルなクエリを実行できます。 使用可能なすべてのフィールドが画面の左側に表示されます。 フィールドをメインゾーンにドラッグ&amp;ドロップします。 異なる要素を組み合わせるには、それらを相互に連動させて異なるグループやグループレベルを作成します。 次に、論理演算子を選択して、同じレベルの要素を組み合わせることができます。

* および：2つの条件の積集合。 すべての条件に一致する要素のみが考慮されます。
* または：2つの条件の和集合。 2 つの条件の少なくとも 1 つに一致する要素が考慮されます。

![](../assets/journey64.png)

[Adobe Experience Platformセグメント化サービス](https://experienceleague.adobe.com/docs/experience-platform/segmentation/home.html)を使用してセグメントを作成する場合は、ジャーニー条件でそれらを活用できます。 [条件でのセグメントの使用](../segment/using-a-segment.md)を参照してください。


>[!NOTE]
>
>単純なエディターでは、時系列（購入のリスト、メッセージの過去のクリックなど）に対してクエリを実行できません。 これには、高度なエディターを使用する必要があります。 [このページ](../expression/expressionadvanced.md)を参照してください。

アクションまたは条件でエラーが発生すると、個人のジャーニーが停止します。この処理を続行する唯一の方法は、「**[!UICONTROL タイムアウトまたはエラーの場合に代替パスを追加]**」チェックボックスにチェックを付けることです。詳しくは、[この節](../building-journeys/using-the-journey-designer.md#paths)を参照してください。

## データソースの条件 {#data_source_condition}

これにより、データソースのフィールドや、以前にジャーニーに配置されたイベントに基づいて条件を定義できます。 式エディターの使用方法については、[このページ](../expression/expressionadvanced.md)を参照してください。 高度な式エディターを使用すると、コレクションを操作したり、パラメーターを渡す必要があるデータソースを使用したりする、より高度な条件を設定できます。 [このページ](../datasource/external-data-sources.md)を参照してください。

![](../assets/journey50.png)

## 時間条件{#time_condition}

これにより、時間帯や曜日に応じて異なるアクションを実行できます。 例えば、昼間にSMSメッセージを送信し、平日の夜にEメールを送信するように指定できます。

>[!NOTE]
>
>タイムゾーンは条件に限定されなくなり、ジャーニープロパティのジャーニーレベルで定義されるようになりました。 [このページ](../building-journeys/timezone-management.md)を参照してください。

![](../assets/journey51.png)

## 分割された割合 {#percentage_split}

このオプションを使用すると、オーディエンスをランダムに分割して、グループごとに異なるアクションを定義できます。 各パスの分割数と再分割を定義します。 分割の計算は、ジャーニーのこのアクティビティでフローするユーザーの数をシステムが予測できないので、統計的です。 その結果、分割の誤差は非常に小さくなります。 この関数は、Javaのランダムメカニズムに基づいています（[page](https://docs.oracle.com/javase/7/docs/api/java/util/Random.html)を参照）。

テストモードでは、分割に達すると、常に上部の分岐が選択されます。 テストで別のパスを選択する場合は、分割ブランチの位置を再編成できます。 [このページ](../building-journeys/testing-the-journey.md)を参照してください。

>[!NOTE]
>
>割合分割条件にパスを追加するボタンはないことに注意してください。 パスの数は、分割数によって異なります。 分割条件では、他のケースにパスを追加することはできません。他のケースにパスを追加することはできません。 ユーザーは常に、分割されたパスの1つに入ります。

![](../assets/journey52.png)

## 日付条件 {#date_condition}

これにより、日付に基づいて異なるフローを定義できます。 例えば、「販売」期間中にユーザーがステップに入った場合は、特定のメッセージを送信します。 残りの1年は、別のメッセージを送信します。

>[!NOTE]
>
>タイムゾーンは条件に限定されなくなり、ジャーニープロパティのジャーニーレベルで定義されるようになりました。 [このページ](../building-journeys/timezone-management.md)を参照してください。

![](../assets/journey53.png)
