---
title: ジャーニーのテスト
description: '遍歴のテストについて '
page-status-flag: never-activated
uuid: 269d590c-5a6d-40b9-a879-02f5033863fc
contentOwner: sauviat
audience: rns
content-type: reference
topic-tags: journeys
discoiquuid: 5df34f55-135a-4ea8-afc2-f9427ce5ae7b
internal: n
snippet: y
translation-type: tm+mt
source-git-commit: e53ecd96bbb308fe109843de6f64cde4cba5e246

---


# ジャーニーのテスト{#testing_the_journey}

遍歴をテストする前に、すべてのエラーがあれば解決する必要があります。 [](../about/troubleshooting.md#section_h3q_kqk_fhb)を参照してください。

テストプロファイルを使用して、出版前に旅行をテストできます。 これにより、個人が旅の中でどのように流れているかを分析し、公開前のトラブルシューティングを行うことができます。

テストモードを使用するには、次の手順に従います。

1. 遍歴をテストする前に、それが有効で、エラーがないことを確認します。 誤りのある旅のテストを開始することはできません。 [](../about/troubleshooting.md#section_h3q_kqk_fhb)を参照してください。エラーが発生すると、警告記号が表示されます。

1. テストモードをアクティブにするには、 **[!UICONTROL Test]** 右上隅にある切り替えボタンをクリックします。

   ![](../assets/journeytest1.png)

1. 左下隅の **Wait time in test** アクティビティーを使用して、各待機モードがテストモードで持続する時間を定義します。 デフォルトの時間は10秒です。 これにより、テスト結果を迅速に取得できます。 このパラメーターは、1つ以上の待機アクティビティーを移動中に削除した場合にのみ表示されます。

   ![](../assets/journeytest_wait.png)

1. をクリック **[!UICONTROL Trigger an event]** して、旅行のイベントを設定します。 必ず、テストイベントに関連するプロファイルを送信 詳しくは、 [イベントの実行](#firing_events)。

   ![](../assets/journeyuctest1.png)

1. イベントを受け取ったら、ボタンをクリックし **[!UICONTROL Show log]** てテスト結果を表示し、確認します。 ログの表 [示を参照してください](#viewing_logs)。

   ![](../assets/journeyuctest2.png)

1. エラーが発生した場合は、テストモードを非アクティブ化し、遍歴を変更して再度テストします。 テストが確定したら、旅を公開できます。 [](../building-journeys/publishing-the-journey.md)を参照してください。

## 重要な注意事項 {#important_notes}

* テスト対象の遍歴に対してイベントを実行するためのインターフェイスが提供されますが、イベントはPostmanなどのサードパーティ製システムから送信することもできます。
* リアルタイム顧客プロファイルサービスで「テストプロファイル」としてフラグ付けされた個人のみがテスト済みの遍歴に参加できます。 テストプロファイルを作成するプロセスは、Data Platformでプロファイルを作成するプロセスと同じです。 テストのプロファイルフラグが真である。 データプラットフォームインターフェイスの「セグメント」セクションを使用して、データプラットフォームでテストプロファイルのセグメントを作成し、完全でないリストを確認できます。 現時点では、完全なリストは表示できません。
* テストモードは、名前空間を使用するドラフトジャーニーでのみ使用できます。 実際、テストモードでは、遍歴に参加する人がテストプロファイルであるかどうかを確認する必要があり、したがってデータプラットフォームに到達できる必要があります。
* テストセッション中にプロファイルがジャーニーに入ることのできる最大数は100です。
* テストモードを無効にすると、過去にテストモードに入った人、または現在参加している人のすべてのジャーニーが空になります。
* テストモードは、必要な回数だけ有効または無効にできます。
* テストモードがアクティブな場合は、ジャーニーを変更できません。 テストモードでは、ジャーニーを直接公開できるので、以前にテストモードを非アクティブにする必要はありません。

## イベント {#firing_events}

このボ **[!UICONTROL Trigger an event]** タンを使用すると、イベントを設定して、人が旅に出るようにできます。

前提条件として、データプラットフォームでテストプロファイルとしてフラグが付けられているプロファイルを把握する必要があります。 実際、テストモードでは、これらのプロファイルのみが遍歴で許可され、イベントにIDが含まれている必要があります。 必要なIDは、イベント設定に依存します。 例えば、ECIDを指定できます。

旅行に複数のイベントが含まれる場合は、ドロップダウンリストを使用してイベントを選択します。 次に、各イベントに対して、渡されるフィールドと送信するイベントの実行を設定します。 このインターフェイスは、情報ペイロードに適切な情報を渡し、イベントタイプが正しいことを確認するのに役立ちます。 テストモードでは、後で使用するために、テストセッションで最後に使用したパラメーターが保存されます。

![](../assets/journeytest4.png)

このインターフェイスを使用すると、単純なパラメーターをイベントできます。 イベント内のコレクションやその他の高度なオブジェクトを渡す場合は、をクリックしてペイロー **[!UICONTROL Code View]** ドのコード全体を表示し、変更することができます。 例えば、技術ユーザーが用意したイベント情報をコピーして貼り付けることができます。

![](../assets/journeytest5.png)

また、テクニカルユーザーは、このインターフェイスを使用してイベントペイロードを作成し、サードパーティのツールを使用しなくてもイベントをトリガーできます。

## ログの表示 {#viewing_logs}

このボタ **[!UICONTROL Show log]** ンを使用して、テスト結果を表示できます。 このページには、ジャーニーの現在の情報がJSON形式で表示されます。 ボタンを使用すると、ノード全体をコピーできます。 手動でページを更新して、ジャーニーのテスト結果を更新する必要があります。

![](../assets/journeytest3.png)

>[!NOTE]
>
>テストログには、サードパーティのシステム（データソースまたはアクション）を呼び出す際にエラーが発生した場合、エラーコードとエラー応答が表示されます。

現在、旅行中の個人（技術的にはインスタンスと呼ばれる）の数が表示されます。 個々のユーザーに対して表示される役に立つ情報を次に示します。

* _Id_:個人の内部IDを取得します。 これは、デバッグ目的で使用できます。
* _currentstep_:個人が旅に出る段階です 識別しやすくするために、アクティビティにラベルを追加することをお勧めします。
* _currentstep_ >フェーズ：個人の遍歴のステータス（実行中、完了、エラーまたはタイムアウト）。 詳しくは、以下を参照してください。
* _currentstep_ > _extraInfo_:エラーの説明とその他のコンテキスト情報。
* _currentstep_ > _fetchErrors_:この手順で発生したデータ取得エラーに関する情報。
* _externalKeys_:イベントで定義されたキー数式の値。
* _enrichedData_:ジャーニーがデータソースを使用している場合に取得したデータ。
* _transitionHistory_:個人が従ったステップのリスト。 イベントの場合、ペイロードが表示されます。
* _actionExecutionErrors_ :発生したエラーに関する情報。

